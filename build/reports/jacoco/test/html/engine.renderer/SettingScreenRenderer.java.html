<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="ko"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>SettingScreenRenderer.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">space_Invaders</a> &gt; <a href="index.source.html" class="el_package">engine.renderer</a> &gt; <span class="el_source">SettingScreenRenderer.java</span></div><h1>SettingScreenRenderer.java</h1><pre class="source lang-java linenums">package engine.renderer;

import engine.AssetManager;
import engine.Core;
import engine.DrawManager;
import engine.InputManager;
import screen.Screen;

import java.awt.*;
import java.awt.event.KeyEvent;

public class SettingScreenRenderer {

    CommonRenderer commonRenderer;

<span class="nc" id="L16">    public SettingScreenRenderer(CommonRenderer commonRenderer) {</span>
<span class="nc" id="L17">        this.commonRenderer = commonRenderer;</span>
<span class="nc" id="L18">    }</span>

    public void drawSettingLayout(Graphics g, final Screen screen, final String[] menuItems, final int selectedMenuItems) {
<span class="nc" id="L21">        Font font = AssetManager.getInstance().getFontRegular();</span>
<span class="nc" id="L22">        g.setFont(font);</span>

<span class="nc" id="L24">        int splitPointX = screen.getWidth() * 3 / 10;</span>
<span class="nc" id="L25">        int menuY = screen.getHeight() * 3 / 10;</span>
<span class="nc bnc" id="L26" title="All 2 branches missed.">        for (int i = 0; i &lt; menuItems.length; i++) {</span>
<span class="nc bnc" id="L27" title="All 2 branches missed.">            if (i == selectedMenuItems) {</span>
<span class="nc" id="L28">                g.setColor(Color.GREEN);</span>
            } else {
<span class="nc" id="L30">                g.setColor(Color.WHITE);</span>
            }
<span class="nc" id="L32">            g.drawString(menuItems[i], 30, menuY+(i*60));</span>
<span class="nc" id="L33">            g.setColor(Color.GREEN);</span>
        }
<span class="nc" id="L35">        g.drawLine(splitPointX, screen.getHeight()/4, splitPointX,(menuY+menuItems.length*60));</span>
<span class="nc" id="L36">    }</span>

    public void drawVolumeBar(Graphics g, final Screen screen, final int volumeLevel, final boolean dragging){
<span class="nc" id="L39">        Font font = AssetManager.getInstance().getFontRegular();</span>

<span class="nc" id="L41">        int bar_startWidth = screen.getWidth() / 2;</span>
<span class="nc" id="L42">        int bar_endWidth = screen.getWidth() - 40;</span>
<span class="nc" id="L43">        int barHeight = screen.getHeight() * 3 / 10;</span>

<span class="nc" id="L45">        String volume_label = &quot;Volume&quot;;</span>

<span class="nc" id="L47">        g.setFont(font);</span>
<span class="nc" id="L48">        g.setColor(Color.WHITE);</span>
<span class="nc" id="L49">        g.drawLine(bar_startWidth, barHeight, bar_endWidth, barHeight);</span>

<span class="nc" id="L51">        g.setColor(Color.WHITE);</span>
<span class="nc" id="L52">        g.drawString(volume_label, bar_startWidth-80, barHeight+7);</span>

//		change this line to get indicator center position
<span class="nc" id="L55">        int size = 14;</span>
<span class="nc" id="L56">        double ratio = volumeLevel / 100.0;</span>
<span class="nc" id="L57">        int centerX = bar_startWidth + (int) ((bar_endWidth - bar_startWidth) * ratio);</span>
<span class="nc" id="L58">        int indicatorX = centerX - size / 2 - 3;</span>
<span class="nc" id="L59">        int indicatorY = barHeight - size / 2 ;</span>

<span class="nc" id="L61">        int rawX = Core.getInputManager().getMouseX();</span>
<span class="nc" id="L62">        int rawY = Core.getInputManager().getMouseY();</span>
<span class="nc" id="L63">        Insets insets = DrawManager.getFrame().getInsets();</span>
<span class="nc" id="L64">        int mouseX = rawX - insets.left;</span>
<span class="nc" id="L65">        int mouseY = rawY - insets.top;</span>

<span class="nc bnc" id="L67" title="All 8 branches missed.">        boolean hoverIndicator = mouseX &gt;= indicatorX &amp;&amp; mouseX &lt;= indicatorX + size &amp;&amp;</span>
                mouseY &gt;= indicatorY &amp;&amp; mouseY &lt;= indicatorY + size;

<span class="nc bnc" id="L70" title="All 4 branches missed.">        if (hoverIndicator || dragging) {</span>
<span class="nc" id="L71">            g.setColor(Color.GREEN);</span>
        } else {
<span class="nc" id="L73">            g.setColor(Color.WHITE);</span>
        }

<span class="nc" id="L76">        g.fillRect(indicatorX, indicatorY, size, size);</span>

<span class="nc" id="L78">        g.setColor(Color.WHITE);</span>
<span class="nc" id="L79">        String volumeText = Integer.toString(volumeLevel);</span>
<span class="nc" id="L80">        g.drawString(volumeText, bar_endWidth+10, barHeight +7);</span>

<span class="nc" id="L82">    }</span>

    public void drawSettingMenu(Graphics g, final Screen screen) {
<span class="nc" id="L85">        Font font = AssetManager.getInstance().getFontRegular();</span>
<span class="nc" id="L86">        g.setFont(font);</span>
<span class="nc" id="L87">        FontMetrics metrics = g.getFontMetrics(font);</span>

<span class="nc" id="L89">        String settingsString = &quot;Settings&quot;;</span>
<span class="nc" id="L90">        String instructionsString = &quot;Press ESC to return&quot;;</span>

<span class="nc" id="L92">        g.setColor(Color.GREEN);</span>
<span class="nc" id="L93">        commonRenderer.drawCenteredBigString(g, screen, settingsString, screen.getHeight() / 8);</span>
<span class="nc" id="L94">        g.setFont(font);</span>
<span class="nc" id="L95">        g.setColor(Color.GRAY);</span>
<span class="nc" id="L96">        commonRenderer.drawCenteredRegularString(g, screen, instructionsString, screen.getHeight() / 6);</span>
<span class="nc" id="L97">    }</span>

    public void drawKeySettings(Graphics g, final Screen screen, int playerNum, int selectedSection, int selectedKeyIndex, boolean[] keySelected,int[] currentKeys) {
<span class="nc" id="L100">        int panelWidth = 220;</span>
<span class="nc" id="L101">        int panelHeight = 180;</span>
<span class="nc" id="L102">        int x = screen.getWidth() - panelWidth - 50;</span>
<span class="nc" id="L103">        int y = screen.getHeight() / 4;</span>

<span class="nc" id="L105">        String[] labels = {&quot;MOVE LEFT :&quot;, &quot;MOVE RIGHT:&quot;, &quot;ATTACK :&quot;};</span>
<span class="nc" id="L106">        String[] keys = new String[3];</span>
<span class="nc" id="L107">        String[] keys_string = new String[3];</span>

<span class="nc bnc" id="L109" title="All 2 branches missed.">        for (int i = 0; i &lt; labels.length; i++) {</span>
<span class="nc" id="L110">            int textY = y + 70 + (i * 50);</span>
<span class="nc" id="L111">            keys[i] = KeyEvent.getKeyText(currentKeys[i]); // Convert set key codes to characters</span>
<span class="nc" id="L112">            keys_string[i] = InputManager.getInstance().getKeyString(currentKeys[i]);</span>
            // draw the dividing line
<span class="nc bnc" id="L114" title="All 2 branches missed.">            if (i &lt; labels.length - 1) {</span>
<span class="nc" id="L115">                g.setColor(Color.DARK_GRAY);</span>
<span class="nc" id="L116">                g.drawLine(x + 20, textY + 20, x + panelWidth - 20, textY + 20);</span>
            }

            // Verify that the current item is in key selection (waiting) status and select color
<span class="nc bnc" id="L120" title="All 2 branches missed.">            if (keySelected[i]) {</span>
<span class="nc" id="L121">                g.setColor(Color.YELLOW);</span>
<span class="nc bnc" id="L122" title="All 4 branches missed.">            } else if (selectedSection == 1 &amp;&amp; selectedKeyIndex == i) {</span>
<span class="nc" id="L123">                g.setColor(Color.GREEN);</span>
            } else {
<span class="nc" id="L125">                g.setColor(Color.LIGHT_GRAY);</span>
            }
            // draw key
<span class="nc" id="L128">            g.drawString(labels[i], x + 30, textY);</span>
<span class="nc" id="L129">            g.setColor(Color.WHITE);</span>
<span class="nc" id="L130">            g.drawString(keys_string[i], x + 150, textY);</span>
        }

<span class="nc" id="L133">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.10.202304240956</span></div></body></html>