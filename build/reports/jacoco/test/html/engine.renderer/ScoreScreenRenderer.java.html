<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="ko"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ScoreScreenRenderer.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">space_Invaders</a> &gt; <a href="index.source.html" class="el_package">engine.renderer</a> &gt; <span class="el_source">ScoreScreenRenderer.java</span></div><h1>ScoreScreenRenderer.java</h1><pre class="source lang-java linenums">package engine.renderer;

import screen.Screen;

import java.awt.*;

public class ScoreScreenRenderer {

    private CommonRenderer commonRenderer;
    /** Font properties. */
    private static FontMetrics fontMetrics;

<span class="nc" id="L13">    public ScoreScreenRenderer(CommonRenderer commonRenderer) {</span>
<span class="nc" id="L14">        this.commonRenderer = commonRenderer;</span>
<span class="nc" id="L15">    }</span>

    /**
     * Draws basic content of game over screen.
     *
     * @param screen
     *                     Screen to draw on.
     * @param acceptsInput
     *                     If the screen accepts input.
     */
    public void drawGameOver(Graphics g, final Screen screen, final boolean acceptsInput) {
<span class="nc" id="L26">        String gameOverString = &quot;Game Over&quot;;</span>
<span class="nc" id="L27">        String continueOrExitString = &quot;Press Space to play again, Escape to exit&quot;;</span>

<span class="nc" id="L29">        int height = 4;</span>

<span class="nc" id="L31">        g.setFont(commonRenderer.getFontRegular());</span>
<span class="nc" id="L32">        fontMetrics = g.getFontMetrics(commonRenderer.getFontRegular());</span>
<span class="nc" id="L33">        g.setColor(Color.GREEN);</span>
<span class="nc" id="L34">        commonRenderer.drawCenteredBigString(g, screen, gameOverString, screen.getHeight() / height - fontMetrics.getHeight() * 2);</span>

<span class="nc bnc" id="L36" title="All 2 branches missed.">        if (acceptsInput) {</span>
<span class="nc" id="L37">            g.setColor(Color.GREEN);</span>
        } else {
<span class="nc" id="L39">            g.setColor(Color.GRAY);</span>
        }
<span class="nc" id="L41">        commonRenderer.drawCenteredRegularString(g, screen, continueOrExitString, screen.getHeight() / 2 + fontMetrics.getHeight() * 10);</span>
<span class="nc" id="L42">    }</span>

    /**
     * Draws interactive characters for name input.
     *
     * @param screen
     *                         Screen to draw on.
     * @param name
     *                         Current name inserted.
     */
    public void drawNameInput(Graphics g, final Screen screen, final StringBuilder name, boolean isNewRecord) {
<span class="nc" id="L53">        g.setFont(commonRenderer.getFontRegular());</span>
<span class="nc" id="L54">        fontMetrics = g.getFontMetrics(commonRenderer.getFontRegular());</span>

<span class="nc" id="L56">        String newRecordString = &quot;New Record!&quot;;</span>
<span class="nc" id="L57">        String introduceNameString = &quot;Name: &quot;;</span>
<span class="nc" id="L58">        String nameStr = name.toString();</span>

<span class="nc bnc" id="L60" title="All 2 branches missed.">        if (isNewRecord) {</span>
<span class="nc" id="L61">            g.setColor(Color.GREEN);</span>
<span class="nc" id="L62">            commonRenderer.drawCenteredRegularString(g, screen, newRecordString, screen.getHeight() / 4 + fontMetrics.getHeight() * 11);</span>
        }

        // Draw the current name with blinking cursor
<span class="nc bnc" id="L66" title="All 2 branches missed.">        String displayName = name.isEmpty() ? &quot;&quot; : nameStr;</span>

        // Cursor blinks every 500ms
<span class="nc bnc" id="L69" title="All 2 branches missed.">        boolean showCursor = (System.currentTimeMillis() / 500) % 2 == 0;</span>
<span class="nc bnc" id="L70" title="All 2 branches missed.">        String cursor = showCursor ? &quot;|&quot; : &quot; &quot;;</span>

<span class="nc" id="L72">        String displayText = introduceNameString + displayName + cursor;</span>

<span class="nc" id="L74">        g.setColor(Color.WHITE);</span>
<span class="nc" id="L75">        commonRenderer.drawCenteredRegularString(g, screen, displayText, screen.getHeight() / 4 + fontMetrics.getHeight() * 12);</span>
<span class="nc" id="L76">    }</span>

    public void drawNameInputError(Graphics g, Screen screen) {
<span class="nc" id="L79">        g.setFont(commonRenderer.getFontRegular());</span>

<span class="nc" id="L81">        String alert = &quot;Enter at least 3 chars!&quot; ; // &quot;Name too short!&quot;</span>

<span class="nc" id="L83">        g.setColor(Color.YELLOW);</span>
<span class="nc" id="L84">        commonRenderer.drawCenteredRegularString(g, screen, alert, screen.getHeight() / 4 + fontMetrics.getHeight() * 13 );</span>
<span class="nc" id="L85">    }</span>

    /**
     * Draws game results.
     *
     * @param screen
     *                       Screen to draw on.
     * @param score
     *                       Score obtained.
     * @param coins
     *                       Coins obtained.
     * @param shipsDestroyed
     *                       Total ships destroyed.
     * @param accuracy
     *                       Total accuracy.
     * @param isNewRecord
     *                       If the score is a new high score.
     */
    public void drawResults(Graphics g, final Screen screen, final int score,
                            final int coins, final int livesRemaining , final int shipsDestroyed,
                            final float accuracy, final boolean isNewRecord, final boolean accuracy1P) {
<span class="nc" id="L106">        g.setFont(commonRenderer.getFontRegular());</span>

<span class="nc" id="L108">        String scoreString = String.format(&quot;score %04d&quot;, score);</span>
<span class="nc" id="L109">        String coinString = String.format(&quot;coins %04d&quot;, coins);</span>
<span class="nc" id="L110">        String livesRemainingString = String.format(&quot;lives remaining %d&quot;, livesRemaining);</span>
<span class="nc" id="L111">        String shipsDestroyedString = &quot;enemies destroyed &quot; + shipsDestroyed;</span>
<span class="nc bnc" id="L112" title="All 2 branches missed.">        String accuracyString = String.format(&quot;accuracy %.2f%%&quot;, Float.isNaN(accuracy) ? 0.0 : accuracy * 100);</span>

<span class="nc" id="L114">        int height = 4;</span>

<span class="nc bnc" id="L116" title="All 2 branches missed.">        if (isNewRecord) {</span>
<span class="nc" id="L117">            g.setColor(Color.RED);</span>
        } else {
<span class="nc" id="L119">            g.setColor(Color.WHITE);</span>
        }

<span class="nc" id="L122">        fontMetrics = g.getFontMetrics(commonRenderer.getFontRegular());</span>

<span class="nc" id="L124">        commonRenderer.drawCenteredRegularString(g, screen, scoreString, screen.getHeight() / height);</span>
<span class="nc" id="L125">        commonRenderer.drawCenteredRegularString(g, screen, coinString, screen.getHeight() / height + fontMetrics.getHeight() * 2);</span>
<span class="nc" id="L126">        commonRenderer.drawCenteredRegularString(g, screen, livesRemainingString, screen.getHeight() / height + fontMetrics.getHeight() * 4);</span>
<span class="nc" id="L127">        commonRenderer.drawCenteredRegularString(g, screen, shipsDestroyedString, screen.getHeight() / height + fontMetrics.getHeight() * 6);</span>
        // Draw accuracy for player in 1P mode
<span class="nc bnc" id="L129" title="All 2 branches missed.">        if (accuracy1P) {</span>
<span class="nc" id="L130">            commonRenderer.drawCenteredRegularString(g, screen, accuracyString, screen.getHeight() / height + fontMetrics.getHeight() * 8);</span>
        }
<span class="nc" id="L132">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.10.202304240956</span></div></body></html>