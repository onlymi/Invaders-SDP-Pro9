<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="ko"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>TitleScreenRenderer.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">space_Invaders</a> &gt; <a href="index.source.html" class="el_package">engine.renderer</a> &gt; <span class="el_source">TitleScreenRenderer.java</span></div><h1>TitleScreenRenderer.java</h1><pre class="source lang-java linenums">package engine.renderer;

import engine.AssetManager;
import screen.Screen;

import java.awt.*;

public class TitleScreenRenderer {

    private CommonRenderer commonRenderer;
    private AssetManager assetManager;
    /** Font properties. */
    private static FontMetrics fontMetrics;

    // 메뉴 배경 애니메이션 (원래 DrawManager에 있던 것)
<span class="nc" id="L16">    private animations.MenuSpace menuSpace = new animations.MenuSpace(50);</span>

<span class="nc" id="L18">    public TitleScreenRenderer(CommonRenderer commonRenderer) {</span>
<span class="nc" id="L19">        this.commonRenderer = commonRenderer;</span>
<span class="nc" id="L20">        this.assetManager = AssetManager.getInstance();</span>
<span class="nc" id="L21">    }</span>

    /**
     * Draws game title.
     *
     * @param screen
     *               Screen to draw on.
     */
    public void drawTitle(Graphics g, final Screen screen) {
<span class="nc" id="L30">        String titleString = &quot;Invaders&quot;;</span>
<span class="nc" id="L31">        String instructionsString = &quot;select with w+s / arrows, confirm with space&quot;;</span>

<span class="nc" id="L33">        g.setColor(Color.GRAY);</span>
<span class="nc" id="L34">        commonRenderer.drawCenteredRegularString(g, screen, instructionsString, screen.getHeight() / 2);</span>

<span class="nc" id="L36">        g.setColor(Color.GREEN);</span>
<span class="nc" id="L37">        commonRenderer.drawCenteredBigString(g, screen, titleString, screen.getHeight() / 3);</span>
<span class="nc" id="L38">    }</span>

    /**
     * Draws the main menu stars background animation
     */
    public void updateMenuSpace(Graphics g){
<span class="nc" id="L44">        menuSpace.updateStars();</span>

<span class="nc" id="L46">        Graphics2D g2d = (Graphics2D) g;</span>
<span class="nc" id="L47">        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);</span>

<span class="nc" id="L49">        g.setColor(Color.WHITE);</span>
<span class="nc" id="L50">        int[][] positions = menuSpace.getStarLocations();</span>

<span class="nc bnc" id="L52" title="All 2 branches missed.">        for(int i = 0; i &lt; menuSpace.getNumStars(); i++){</span>

<span class="nc" id="L54">            int size = 1;</span>
<span class="nc" id="L55">            int radius = size * 2;</span>

<span class="nc" id="L57">            float[] dist = {0.0f, 1.0f};</span>
<span class="nc" id="L58">            Color[] colors = {</span>
<span class="nc" id="L59">                    menuSpace.getColor(),</span>
                    new Color(255, 255, 200, 0)
            };

<span class="nc" id="L63">            RadialGradientPaint paint = new RadialGradientPaint(</span>
                    new Point(positions[i][0], positions[i][1]),
                    radius,
                    dist,
                    colors
            );
<span class="nc" id="L69">            g2d.setPaint(paint);</span>
<span class="nc" id="L70">            g2d.fillOval(positions[i][0] - radius / 2, positions[i][1] - radius / 2, radius, radius);</span>


<span class="nc" id="L73">            g.fillOval(positions[i][0], positions[i][1], size, size);</span>
        }
<span class="nc" id="L75">    }</span>

    /**
     * Draws main menu. - remodified for 2P mode, using string array for efficiency
     *
     * @param screen
     *               Screen to draw on.
     * @param selectedIndex
     *               Option selected.
     */
    public void drawMenu(Graphics g, final Screen screen, final int option, final Integer hoverOption, final int selectedIndex) {
<span class="nc" id="L86">        g.setFont(commonRenderer.getFontRegular());</span>
<span class="nc" id="L87">        fontMetrics = g.getFontMetrics(commonRenderer.getFontRegular());</span>

<span class="nc" id="L89">        String[] items = {&quot;Play&quot;, &quot;Achievements&quot;, &quot;High scores&quot;, &quot;Settings&quot;, &quot;Exit&quot;};</span>

<span class="nc" id="L91">        int baseY = screen.getHeight() / 3 * 2 - 20; // Adjust spacing due to high society button addition</span>
<span class="nc" id="L92">        int spacing = (int) (fontMetrics.getHeight() * 1.5);</span>
<span class="nc bnc" id="L93" title="All 2 branches missed.">        for (int i = 0; i &lt; items.length; i++) {</span>
<span class="nc bnc" id="L94" title="All 6 branches missed.">            boolean highlight = (hoverOption != null) ? (i == hoverOption) : (i == selectedIndex);</span>
<span class="nc bnc" id="L95" title="All 2 branches missed.">            g.setColor(highlight ? Color.GREEN : Color.WHITE);</span>
<span class="nc" id="L96">            commonRenderer.drawCenteredRegularString(g, screen, items[i], baseY + spacing * i);</span>
        }
<span class="nc" id="L98">    }</span>

    public void menuHover(final int state){
<span class="nc" id="L101">        menuSpace.setColor(state);</span>
<span class="nc bnc" id="L102" title="All 2 branches missed.">        menuSpace.setSpeed(state == 4);</span>
<span class="nc" id="L103">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.10.202304240956</span></div></body></html>